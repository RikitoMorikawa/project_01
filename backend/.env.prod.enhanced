# Enhanced Production Environment Configuration
# CSR Lambda API System - Production Environment

# Environment Configuration
ENVIRONMENT=prod
DEBUG=false
LOG_LEVEL=INFO

# Database Configuration (Aurora MySQL - Production)
DB_HOST=${DB_HOST}
DB_PORT=3306
DB_NAME=csr_lambda_prod
DB_USER=${DB_USER}
DB_PASSWORD=${DB_PASSWORD}
DATABASE_URL=mysql+pymysql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:3306/csr_lambda_prod

# Database Read Replica Configuration (本番環境用読み取り専用レプリカ)
DB_READ_HOST=${DB_READ_HOST}
DATABASE_READ_URL=mysql+pymysql://${DB_USER}:${DB_PASSWORD}@${DB_READ_HOST}:3306/csr_lambda_prod

# Connection Pool Configuration (本番環境用最適化)
CONNECTION_POOL_SIZE=20
CONNECTION_POOL_MAX_OVERFLOW=30
CONNECTION_POOL_TIMEOUT=30
CONNECTION_POOL_RECYCLE=3600

# AWS Configuration
AWS_REGION=ap-northeast-1
AWS_DEFAULT_REGION=ap-northeast-1

# Cognito Configuration
COGNITO_USER_POOL_ID=${COGNITO_USER_POOL_ID}
COGNITO_CLIENT_ID=${COGNITO_CLIENT_ID}
COGNITO_REGION=ap-northeast-1

# API Configuration
API_TITLE=CSR Lambda API - Production
API_VERSION=1.0.0
API_DESCRIPTION=Production CSR Lambda API System

# CORS Configuration (本番環境用厳格設定)
CORS_ORIGINS=["https://d123456789.cloudfront.net","https://your-production-domain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=["GET","POST","PUT","DELETE","OPTIONS"]
CORS_ALLOW_HEADERS=["Content-Type","Authorization","X-Requested-With"]

# Security Configuration (本番環境用セキュリティ強化)
JWT_SECRET_KEY=${JWT_SECRET_KEY}
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Rate Limiting Configuration (本番環境用)
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=200

# Caching Configuration (本番環境用)
REDIS_URL=${REDIS_URL}
CACHE_TTL=300
CACHE_MAX_SIZE=1000

# Monitoring and Logging Configuration
ENABLE_XRAY_TRACING=true
ENABLE_CLOUDWATCH_METRICS=true
ENABLE_STRUCTURED_LOGGING=true
METRICS_NAMESPACE=CSR-Lambda-API/Production

# Performance Configuration (本番環境用最適化)
LAMBDA_MEMORY_SIZE=1024
LAMBDA_TIMEOUT=30
LAMBDA_RESERVED_CONCURRENCY=500
LAMBDA_PROVISIONED_CONCURRENCY=10

# Health Check Configuration
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_RETRIES=3

# Error Handling Configuration
ERROR_TRACKING_ENABLED=true
ERROR_NOTIFICATION_ENABLED=true
ERROR_THRESHOLD_PER_MINUTE=5

# Backup and Recovery Configuration
BACKUP_ENABLED=true
BACKUP_RETENTION_DAYS=30
POINT_IN_TIME_RECOVERY_ENABLED=true

# Compliance and Audit Configuration
AUDIT_LOGGING_ENABLED=true
DATA_ENCRYPTION_ENABLED=true
COMPLIANCE_MODE=PRODUCTION

# Feature Flags (本番環境用)
FEATURE_USER_REGISTRATION=true
FEATURE_PASSWORD_RESET=true
FEATURE_EMAIL_VERIFICATION=true
FEATURE_TWO_FACTOR_AUTH=false
FEATURE_ADMIN_PANEL=true

# Third-party Integrations
SENDGRID_API_KEY=${SENDGRID_API_KEY}
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
PAGERDUTY_INTEGRATION_KEY=${PAGERDUTY_INTEGRATION_KEY}

# Secrets Manager Configuration
DATABASE_SECRET_ARN=${DATABASE_SECRET_ARN}
JWT_SECRET_ARN=${JWT_SECRET_ARN}
SENDGRID_SECRET_ARN=${SENDGRID_SECRET_ARN}

# CloudWatch Configuration
CLOUDWATCH_LOG_GROUP=/aws/lambda/csr-lambda-api-prod-api
CLOUDWATCH_LOG_RETENTION_DAYS=90
CLOUDWATCH_METRICS_ENABLED=true

# X-Ray Configuration
XRAY_TRACING_NAME=csr-lambda-api-prod-api
XRAY_SAMPLING_RATE=0.1

# VPC Configuration
VPC_SECURITY_GROUP_IDS=${VPC_SECURITY_GROUP_IDS}
VPC_SUBNET_IDS=${VPC_SUBNET_IDS}

# Auto Scaling Configuration (本番環境用)
AUTO_SCALING_ENABLED=true
AUTO_SCALING_MIN_CAPACITY=2
AUTO_SCALING_MAX_CAPACITY=100
AUTO_SCALING_TARGET_UTILIZATION=70

# Disaster Recovery Configuration
MULTI_AZ_ENABLED=true
CROSS_REGION_BACKUP_ENABLED=false
FAILOVER_TIMEOUT=300

# Maintenance Configuration
MAINTENANCE_WINDOW_START=03:00
MAINTENANCE_WINDOW_END=05:00
MAINTENANCE_WINDOW_TIMEZONE=Asia/Tokyo

# Cost Optimization Configuration
COST_OPTIMIZATION_ENABLED=true
UNUSED_RESOURCE_CLEANUP_ENABLED=true
RESOURCE_TAGGING_ENFORCED=true